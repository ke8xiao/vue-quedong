{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { deletePrescriptions, view } from '@/api/index';\nimport service from '@/utils/service';\nimport Aside from '@/components/Aside.vue';\nexport default {\n  name: 'MyMedicine',\n  components: {\n    Aside\n  },\n\n  data() {\n    return {\n      // 对话框\n      dialogVisible: false,\n      dialog: {\n        name: '',\n        id: ''\n      },\n\n      /*   data: [{\r\n          label: '一级 1',\r\n          children: [{\r\n            label: '二级 1-1',\r\n          }]\r\n        }], */\n      selectData: [],\n      tableData: [],\n      form: {\n        userid: '3',\n        disease_sort: '',\n        disease_position: '',\n        name: '',\n        create_date: ''\n      },\n      disease_sort: [{\n        value: '骨科康复'\n      }, {\n        value: '神经康复'\n      }, {\n        value: '心脏康复'\n      }],\n      disease_position: [{\n        value: '头部'\n      }, {\n        value: '肩胛'\n      }, {\n        value: '肘部'\n      }, {\n        value: '臀部'\n      }]\n    };\n  },\n\n  created() {\n    this.getMyMedicine();\n  },\n\n  methods: {\n    // 获取所有处方\n    getMyMedicine() {\n      let obj = {\n        userid: '0212170e-8c6b-4540-895c-a9115625e59e'\n      };\n      view(obj).then(res => {\n        this.tableData = res.data;\n      });\n    },\n\n    // 条件查询处方\n    getPrescription() {\n      console.log(this.form.create_date);\n      service({\n        url: '/specialist/prescription/getPrescription',\n        params: {\n          userid: '0212170e-8c6b-4540-895c-a9115625e59e',\n          disease_sort: this.form.disease_sort,\n          disease_position: this.form.disease_position,\n          name: this.form.name,\n          create_date: this.form.create_date\n        }\n      }).then(res => {\n        this.tableData = res.data;\n      });\n    },\n\n    // 查看处方\n    watchMedicine(b) {\n      console.log(b);\n    },\n\n    // 编辑处方\n    editMedicine(data) {\n      console.log(data.id);\n      this.$router.push({\n        path: '/choosesick',\n        query: {\n          id: data.id\n        }\n      });\n    },\n\n    // 单条删除处方\n    deleteMedicine(data) {\n      this.dialogVisible = true;\n      this.dialog = data;\n    },\n\n    // 点击确定按钮之后再进行删除\n    saveBtn() {\n      this.dialogVisible = false;\n      let obj = {\n        ids: this.dialog.id\n      };\n      deletePrescriptions(obj).then(res => {\n        console.log(res, 'sahn');\n\n        if (res.code == 200) {\n          this.getMyMedicine();\n          this.$message({\n            type: 'success',\n            message: '删除成功'\n          });\n        }\n      });\n    },\n\n    selectchange(val) {\n      this.selectData = val;\n    },\n\n    // 批量删除处方\n    deleteLot() {\n      let list = [];\n\n      if (this.selectData.length) {\n        this.selectData.map(item => {\n          list.push(item.id);\n        });\n        let obj = {\n          ids: list.join(',')\n        };\n        deletePrescriptions(obj).then(res => {\n          if (res.code == 200) {\n            this.getMyMedicine();\n            this.$message({\n              type: 'success',\n              message: '删除成功'\n            });\n          }\n        });\n      }\n    },\n\n    // 新增处方\n    addMedicine() {\n      this.$router.push('choosesick');\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAkFA;AACA;AACA;AACA;EACAA,kBADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACA;MACAC,oBAFA;MAGAC;QACAL,QADA;QAEAM;MAFA,CAHA;;MAOA;AACA;AACA;AACA;AACA;AACA;MACAC,cAbA;MAcAC,aAdA;MAeAC;QACAC,WADA;QAEAC,gBAFA;QAGAC,oBAHA;QAIAZ,QAJA;QAKAa;MALA,CAfA;MAsBAF,eACA;QACAG;MADA,CADA,EAIA;QACAA;MADA,CAJA,EAOA;QACAA;MADA,CAPA,CAtBA;MAiCAF,mBACA;QACAE;MADA,CADA,EAIA;QACAA;MADA,CAJA,EAOA;QACAA;MADA,CAPA,EAUA;QACAA;MADA,CAVA;IAjCA;EAgDA,CApDA;;EAqDAC;IACA;EACA,CAvDA;;EAyDAC;IACA;IACAC;MACA;QACAP;MADA;MAGAQ;QACA;MACA,CAFA;IAGA,CATA;;IAUA;IACAC;MACAC;MACAC;QACAC,+CADA;QAEAC;UACAb,8CADA;UAEAC,oCAFA;UAGAC,4CAHA;UAIAZ,oBAJA;UAKAa;QALA;MAFA,GASAW,IATA,CASAC;QACA;MACA,CAXA;IAYA,CAzBA;;IA0BA;IACAC;MACAN;IACA,CA7BA;;IA8BA;IACAO;MACAP;MACA;QACAQ,mBADA;QAEAC;UACAvB;QADA;MAFA;IAMA,CAvCA;;IAwCA;IACAwB;MACA;MACA;IACA,CA5CA;;IA6CA;IACAC;MACA;MACA;QACAC;MADA;MAGAC;QACAb;;QACA;UACA;UACA;YACAc,eADA;YAEAC;UAFA;QAIA;MACA,CATA;IAUA,CA7DA;;IA8DAC;MACA;IACA,CAhEA;;IAiEA;IACAC;MACA;;MACA;QACA;UACAC;QACA,CAFA;QAGA;UACAN;QADA;QAGAC;UACA;YACA;YACA;cACAC,eADA;cAEAC;YAFA;UAIA;QACA,CARA;MASA;IACA,CArFA;;IAsFA;IACAI;MACA;IACA;;EAzFA;AAzDA","names":["name","components","Aside","data","dialogVisible","dialog","id","selectData","tableData","form","userid","disease_sort","disease_position","create_date","value","created","methods","getMyMedicine","view","getPrescription","console","service","url","params","then","res","watchMedicine","editMedicine","path","query","deleteMedicine","saveBtn","ids","deletePrescriptions","type","message","selectchange","deleteLot","list","addMedicine"],"sourceRoot":"src/views/expert","sources":["MyMedicine.vue"],"sourcesContent":["<template>\r\n  <div class=\"content-box\">\r\n    <div class=\"content\">\r\n      <div class=\"content-head\">\r\n        <el-form :inline=\"true\" :model=\"form\">\r\n          <span class=\"title\" style=\"padding-left:30px;margin-right:100px\">我的处方</span>\r\n          <el-form-item label=\"疾病分类：\">\r\n            <el-select v-model=\"form.disease_sort\" filterable placeholder=\"骨科康复\" style=\"margin-right:10px;width:100px\">\r\n              <el-option v-for=\"item in disease_sort\" :key=\"item.value\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n            <el-select v-model=\"form.disease_position\" filterable placeholder=\"头部\" style=\"width:100px\">\r\n              <el-option v-for=\"item in disease_position\" :key=\"item.value\" :value=\"item.value\">\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"处方名称:\" style=\"margin:0 50px\">\r\n            <el-input v-model=\"form.name\" placeholder=\"请输入查询\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"创建日期:\">\r\n            <el-date-picker v-model=\"form.create_date\" type=\"date\" placeholder=\"选择日期\" value-format=\"yyyyMMdd\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button class=\"nextStep\" @click=\"getPrescription\">查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <div class=\"two\">\r\n          <el-button style=\"background-color: #F49B4D;color: #FFF;\" @click=\"addMedicine\">新建</el-button>\r\n          <el-button style=\"background-color: #F47B4D;color: #FFF;\" @click=\"deleteLot\">批量删除</el-button>\r\n        </div>\r\n      </div>\r\n      <el-table ref=\"multipleTable\" @selection-change=\"selectchange\" :data=\"tableData\" tooltip-effect=\"dark\" :header-cell-style=\"{background:'#EBE0D8',color:'#000000'}\">\r\n        <af-table-column type=\"selection\">\r\n        </af-table-column>\r\n        <af-table-column label=\"序号\" type=\"index\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column prop=\"disease_sort\" label=\"疾病分类\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column prop=\"disease_position\" label=\"疾病部位\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column prop=\"name\" label=\"处方名称\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column prop=\"create_date\" label=\"创建日期\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column prop=\"stagesnum\" label=\"康复阶段\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column prop=\"assess_times\" label=\"评估次数\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column prop=\"train_times\" label=\"训练次数\" align=\"center\">\r\n        </af-table-column>\r\n        <af-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" style=\"color: #F49B4D;\" size=\"mini\" @click=\"watchMedicine(scope.row)\">查看处方</el-button>\r\n            <el-button type=\"text\" style=\"color: #BCA791;\" size=\"mini\" @click=\"editMedicine(scope.row)\">编辑</el-button>\r\n            <el-button type=\"text\" style=\"color: #BCA791;\" size=\"mini\" @click=\"deleteMedicine(scope.row)\">删除</el-button>\r\n          </template>\r\n        </af-table-column>\r\n      </el-table>\r\n\r\n      <!-- 确认删除对话框 -->\r\n      <template>\r\n        <el-dialog title=\"删除\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n          <span>确认要删除{{dialog.name}}处方吗</span>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"saveBtn\">确定</el-button>\r\n            <el-button type=\"primary\" @click=\"dialogVisible = false\">取消</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </template>\r\n\r\n      <!-- 分页器 -->\r\n      <div class=\"block\">\r\n        <el-pagination style=\"float: right; padding-right: 0.25rem; margin-top: 0.2rem\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\">\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { deletePrescriptions, view } from '@/api/index'\r\nimport service from '@/utils/service'\r\nimport Aside from '@/components/Aside.vue'\r\nexport default {\r\n  name: 'MyMedicine',\r\n  components: { Aside },\r\n  data() {\r\n    return {\r\n      // 对话框\r\n      dialogVisible: false,\r\n      dialog: {\r\n        name: '',\r\n        id: ''\r\n      },\r\n      /*   data: [{\r\n          label: '一级 1',\r\n          children: [{\r\n            label: '二级 1-1',\r\n          }]\r\n        }], */\r\n      selectData: [],\r\n      tableData: [],\r\n      form: {\r\n        userid: '3',\r\n        disease_sort: '',\r\n        disease_position: '',\r\n        name: '',\r\n        create_date: ''\r\n      },\r\n      disease_sort: [\r\n        {\r\n          value: '骨科康复'\r\n        },\r\n        {\r\n          value: '神经康复'\r\n        },\r\n        {\r\n          value: '心脏康复'\r\n        }\r\n      ],\r\n      disease_position: [\r\n        {\r\n          value: '头部'\r\n        },\r\n        {\r\n          value: '肩胛'\r\n        },\r\n        {\r\n          value: '肘部'\r\n        },\r\n        {\r\n          value: '臀部'\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  created() {\r\n    this.getMyMedicine()\r\n  },\r\n\r\n  methods: {\r\n    // 获取所有处方\r\n    getMyMedicine() {\r\n      let obj = {\r\n        userid: '0212170e-8c6b-4540-895c-a9115625e59e'\r\n      }\r\n      view(obj).then(res => {\r\n        this.tableData = res.data\r\n      })\r\n    },\r\n    // 条件查询处方\r\n    getPrescription() {\r\n      console.log(this.form.create_date)\r\n      service({\r\n        url: '/specialist/prescription/getPrescription',\r\n        params: {\r\n          userid: '0212170e-8c6b-4540-895c-a9115625e59e',\r\n          disease_sort: this.form.disease_sort,\r\n          disease_position: this.form.disease_position,\r\n          name: this.form.name,\r\n          create_date: this.form.create_date\r\n        }\r\n      }).then(res => {\r\n        this.tableData = res.data\r\n      })\r\n    },\r\n    // 查看处方\r\n    watchMedicine(b) {\r\n      console.log(b)\r\n    },\r\n    // 编辑处方\r\n    editMedicine(data) {\r\n      console.log(data.id)\r\n      this.$router.push({\r\n        path: '/choosesick',\r\n        query: {\r\n          id: data.id\r\n        }\r\n      })\r\n    },\r\n    // 单条删除处方\r\n    deleteMedicine(data) {\r\n      this.dialogVisible = true\r\n      this.dialog = data\r\n    },\r\n    // 点击确定按钮之后再进行删除\r\n    saveBtn() {\r\n      this.dialogVisible = false\r\n      let obj = {\r\n        ids: this.dialog.id\r\n      }\r\n      deletePrescriptions(obj).then(res => {\r\n        console.log(res, 'sahn')\r\n        if (res.code == 200) {\r\n          this.getMyMedicine()\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功'\r\n          })\r\n        }\r\n      })\r\n    },\r\n    selectchange(val) {\r\n      this.selectData = val\r\n    },\r\n    // 批量删除处方\r\n    deleteLot() {\r\n      let list = []\r\n      if (this.selectData.length) {\r\n        this.selectData.map(item => {\r\n          list.push(item.id)\r\n        })\r\n        let obj = {\r\n          ids: list.join(',')\r\n        }\r\n        deletePrescriptions(obj).then(res => {\r\n          if (res.code == 200) {\r\n            this.getMyMedicine()\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功'\r\n            })\r\n          }\r\n        })\r\n      }\r\n    },\r\n    // 新增处方\r\n    addMedicine() {\r\n      this.$router.push('choosesick')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.container {\r\n  padding: 30px;\r\n  background: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n.content-head .title {\r\n  font-size: 18px;\r\n  color: orange;\r\n}\r\n\r\n.content-head input {\r\n  width: 100px;\r\n  height: 30px;\r\n  border: 1px solid #ccc;\r\n}\r\n.two {\r\n  padding-left: 30px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}