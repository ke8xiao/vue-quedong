{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { deletePrescriptions, view } from '@/api/index';\nimport service from '@/utils/service';\nimport Aside from '@/components/Aside.vue';\nimport router from '@/router';\nexport default {\n  name: 'MyWork',\n  components: {\n    Aside\n  },\n\n  data() {\n    return {\n      // 对话框\n      dialogVisible: false,\n      dialog: {\n        name: '',\n        id: ''\n      },\n      selectData: [],\n      tableData: [{\n        disease_position: '头部',\n        name: '时间测试',\n        disease_sort: '神经康复',\n        stagesnum: 0,\n        id: '7bd180fb-3564-493d-ba2c-8d8a1527a177',\n        create_date: '2022-08-22 09:28:59',\n        stagesnum: 0,\n        assess_times: '',\n        train_times: ''\n      }],\n      form: {\n        userid: '3',\n        disease_sort: '',\n        disease_position: '',\n        name: '',\n        create_date: ''\n      },\n      disease_sort: [{\n        value: '骨科康复'\n      }, {\n        value: '神经康复'\n      }, {\n        value: '心脏康复'\n      }],\n      disease_position: [{\n        value: '头部'\n      }, {\n        value: '肩胛'\n      }, {\n        value: '肘部'\n      }, {\n        value: '臀部'\n      }]\n    };\n  },\n\n  created() {\n    this.getMyMedicine();\n  },\n\n  methods: {\n    // 获取所有处方\n    getMyMedicine() {\n      let obj = {\n        userid: '0212170e-8c6b-4540-895c-a9115625e59e'\n      };\n      view(obj).then(res => {\n        this.tableData = res.data;\n      });\n    },\n\n    // 条件查询处方\n    getPrescription() {\n      console.log(this.form.create_date);\n      service({\n        url: '/specialist/prescription/getPrescription',\n        params: {\n          userid: '0212170e-8c6b-4540-895c-a9115625e59e',\n          disease_sort: this.form.disease_sort,\n          disease_position: this.form.disease_position,\n          name: this.form.name,\n          create_date: this.form.create_date\n        }\n      }).then(res => {\n        this.tableData = res.data;\n      });\n    },\n\n    // 查看处方\n    watchMedicine(b) {\n      console.log(b);\n    },\n\n    // 编辑处方\n    editMedicine(data) {\n      console.log(data.id);\n      this.$router.push({\n        path: '/choosesick',\n        query: {\n          id: data.id\n        }\n      });\n    },\n\n    // 单条删除处方\n    deleteMedicine(data) {\n      this.dialogVisible = true;\n      this.dialog = data;\n    },\n\n    // 点击确定按钮之后再进行删除\n    saveBtn() {\n      this.dialogVisible = false;\n      let obj = {\n        ids: this.dialog.id\n      };\n      deletePrescriptions(obj).then(res => {\n        console.log(res, 'sahn');\n\n        if (res.code == 200) {\n          this.getMyMedicine();\n          this.$message({\n            type: 'success',\n            message: '删除成功'\n          });\n        }\n      });\n    },\n\n    selectchange(val) {\n      this.selectData = val;\n    },\n\n    // 批量删除处方\n    deleteLot() {\n      let list = [];\n\n      if (this.selectData.length) {\n        this.selectData.map(item => {\n          list.push(item.id);\n        });\n        let obj = {\n          ids: list.join(',')\n        };\n        deletePrescriptions(obj).then(res => {\n          if (res.code == 200) {\n            this.getMyMedicine();\n            this.$message({\n              type: 'success',\n              message: '删除成功'\n            });\n          }\n        });\n      }\n    },\n\n    // 新增处方\n    addMedicine() {\n      this.$router.push('choosesick');\n    }\n\n  }\n};","map":{"version":3,"mappings":";AA6DA;AACA;AACA;AACA;AACA;EACAA,cADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACA;MACAC,oBAFA;MAGAC;QACAL,QADA;QAEAM;MAFA,CAHA;MAOAC,cAPA;MAQAC,YACA;QACAC,sBADA;QAEAT,YAFA;QAGAU,oBAHA;QAIAC,YAJA;QAKAL,0CALA;QAMAM,kCANA;QAOAD,YAPA;QAQAE,gBARA;QASAC;MATA,CADA,CARA;MAqBAC;QACAC,WADA;QAEAN,gBAFA;QAGAD,oBAHA;QAIAT,QAJA;QAKAY;MALA,CArBA;MA4BAF,eACA;QACAO;MADA,CADA,EAIA;QACAA;MADA,CAJA,EAOA;QACAA;MADA,CAPA,CA5BA;MAuCAR,mBACA;QACAQ;MADA,CADA,EAIA;QACAA;MADA,CAJA,EAOA;QACAA;MADA,CAPA,EAUA;QACAA;MADA,CAVA;IAvCA;EAsDA,CA1DA;;EA2DAC;IACA;EACA,CA7DA;;EA+DAC;IACA;IACAC;MACA;QACAJ;MADA;MAGAK;QACA;MACA,CAFA;IAGA,CATA;;IAUA;IACAC;MACAC;MACAC;QACAC,+CADA;QAEAC;UACAV,8CADA;UAEAN,oCAFA;UAGAD,4CAHA;UAIAT,oBAJA;UAKAY;QALA;MAFA,GASAe,IATA,CASAC;QACA;MACA,CAXA;IAYA,CAzBA;;IA0BA;IACAC;MACAN;IACA,CA7BA;;IA8BA;IACAO;MACAP;MACA;QACAQ,mBADA;QAEAC;UACA1B;QADA;MAFA;IAMA,CAvCA;;IAwCA;IACA2B;MACA;MACA;IACA,CA5CA;;IA6CA;IACAC;MACA;MACA;QACAC;MADA;MAGAC;QACAb;;QACA;UACA;UACA;YACAc,eADA;YAEAC;UAFA;QAIA;MACA,CATA;IAUA,CA7DA;;IA8DAC;MACA;IACA,CAhEA;;IAiEA;IACAC;MACA;;MACA;QACA;UACAC;QACA,CAFA;QAGA;UACAN;QADA;QAGAC;UACA;YACA;YACA;cACAC,eADA;cAEAC;YAFA;UAIA;QACA,CARA;MASA;IACA,CArFA;;IAsFA;IACAI;MACA;IACA;;EAzFA;AA/DA","names":["name","components","Aside","data","dialogVisible","dialog","id","selectData","tableData","disease_position","disease_sort","stagesnum","create_date","assess_times","train_times","form","userid","value","created","methods","getMyMedicine","view","getPrescription","console","service","url","params","then","res","watchMedicine","editMedicine","path","query","deleteMedicine","saveBtn","ids","deletePrescriptions","type","message","selectchange","deleteLot","list","addMedicine"],"sourceRoot":"src/views/doctor","sources":["MyWork.vue"],"sourcesContent":["<template>\n  <div class=\"content-box\">\n    <div class=\"content\">\n      <div class=\"content-head\">\n        <el-form :inline=\"true\" :model=\"form\">\n          <span class=\"title\" style=\"padding-left:30px;margin-right:100px\">所有患者</span>\n\n          <el-form-item label=\"患者姓名:\" style=\"margin:0 50px\">\n            <el-input v-model=\"form.name\" placeholder=\"请输入查询\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"患者编号:\">\n            <el-input v-model=\"form.name\" placeholder=\"请输入查询\"></el-input>\n          </el-form-item>\n          <el-form-item>\n            <el-button class=\"nextStep\" @click=\"getPrescription\">查询</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n      <el-table ref=\"multipleTable\" @selection-change=\"selectchange\" :data=\"tableData\" tooltip-effect=\"dark\" :header-cell-style=\"{background:'#EBE0D8',color:'#000000'}\">\n        <el-table-column type=\"selection\">\n        </el-table-column>\n        <el-table-column label=\"序号\" width=\"60\" type=\"index\">\n        </el-table-column>\n        <el-table-column prop=\"disease_sort\" label=\"姓名\">\n        </el-table-column>\n        <el-table-column prop=\"disease_position\" label=\"编号\">\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"性别\">\n        </el-table-column>\n        <el-table-column prop=\"create_date\" label=\"年龄\">\n        </el-table-column>\n        <el-table-column prop=\"stagesnum\" label=\"出生日期\">\n        </el-table-column>\n        <el-table-column prop=\"assess_times\" label=\"联系方式\">\n        </el-table-column>\n        <el-table-column prop=\"train_times\" label=\"注册时间\">\n        </el-table-column>\n        <el-table-column label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" style=\"color: #F49B4D;\" size=\"mini\" @click=\"watchMedicine(scope.row)\">查看</el-button>\n            <el-button type=\"text\" style=\"color: #BCA791;\" size=\"mini\" @click=\"editMedicine(scope.row)\">删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 确认删除对话框 -->\n      <template>\n        <el-dialog title=\"删除\" :visible.sync=\"dialogVisible\" width=\"30%\">\n          <span>确认要删除{{dialog.name}}处方吗</span>\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"saveBtn\">确定</el-button>\n            <el-button type=\"primary\" @click=\"dialogVisible = false\">取消</el-button>\n          </span>\n        </el-dialog>\n      </template>\n\n    </div>\n  </div>\n</template>\n  \n  <script>\nimport { deletePrescriptions, view } from '@/api/index'\nimport service from '@/utils/service'\nimport Aside from '@/components/Aside.vue'\nimport router from '@/router'\nexport default {\n  name: 'MyWork',\n  components: { Aside },\n  data() {\n    return {\n      // 对话框\n      dialogVisible: false,\n      dialog: {\n        name: '',\n        id: ''\n      },\n      selectData: [],\n      tableData: [\n        {\n          disease_position: '头部',\n          name: '时间测试',\n          disease_sort: '神经康复',\n          stagesnum: 0,\n          id: '7bd180fb-3564-493d-ba2c-8d8a1527a177',\n          create_date: '2022-08-22 09:28:59',\n          stagesnum: 0,\n          assess_times: '',\n          train_times: ''\n        }\n      ],\n      form: {\n        userid: '3',\n        disease_sort: '',\n        disease_position: '',\n        name: '',\n        create_date: ''\n      },\n      disease_sort: [\n        {\n          value: '骨科康复'\n        },\n        {\n          value: '神经康复'\n        },\n        {\n          value: '心脏康复'\n        }\n      ],\n      disease_position: [\n        {\n          value: '头部'\n        },\n        {\n          value: '肩胛'\n        },\n        {\n          value: '肘部'\n        },\n        {\n          value: '臀部'\n        }\n      ]\n    }\n  },\n  created() {\n    this.getMyMedicine()\n  },\n\n  methods: {\n    // 获取所有处方\n    getMyMedicine() {\n      let obj = {\n        userid: '0212170e-8c6b-4540-895c-a9115625e59e'\n      }\n      view(obj).then(res => {\n        this.tableData = res.data\n      })\n    },\n    // 条件查询处方\n    getPrescription() {\n      console.log(this.form.create_date)\n      service({\n        url: '/specialist/prescription/getPrescription',\n        params: {\n          userid: '0212170e-8c6b-4540-895c-a9115625e59e',\n          disease_sort: this.form.disease_sort,\n          disease_position: this.form.disease_position,\n          name: this.form.name,\n          create_date: this.form.create_date\n        }\n      }).then(res => {\n        this.tableData = res.data\n      })\n    },\n    // 查看处方\n    watchMedicine(b) {\n      console.log(b)\n    },\n    // 编辑处方\n    editMedicine(data) {\n      console.log(data.id)\n      this.$router.push({\n        path: '/choosesick',\n        query: {\n          id: data.id\n        }\n      })\n    },\n    // 单条删除处方\n    deleteMedicine(data) {\n      this.dialogVisible = true\n      this.dialog = data\n    },\n    // 点击确定按钮之后再进行删除\n    saveBtn() {\n      this.dialogVisible = false\n      let obj = {\n        ids: this.dialog.id\n      }\n      deletePrescriptions(obj).then(res => {\n        console.log(res, 'sahn')\n        if (res.code == 200) {\n          this.getMyMedicine()\n          this.$message({\n            type: 'success',\n            message: '删除成功'\n          })\n        }\n      })\n    },\n    selectchange(val) {\n      this.selectData = val\n    },\n    // 批量删除处方\n    deleteLot() {\n      let list = []\n      if (this.selectData.length) {\n        this.selectData.map(item => {\n          list.push(item.id)\n        })\n        let obj = {\n          ids: list.join(',')\n        }\n        deletePrescriptions(obj).then(res => {\n          if (res.code == 200) {\n            this.getMyMedicine()\n            this.$message({\n              type: 'success',\n              message: '删除成功'\n            })\n          }\n        })\n      }\n    },\n    // 新增处方\n    addMedicine() {\n      this.$router.push('choosesick')\n    }\n  }\n}\n</script>\n  \n  <style lang=\"css\" scoped>\n.container {\n  padding: 30px;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 5px;\n}\n.content-head .title {\n  font-size: 18px;\n  color: orange;\n}\n\n.content-head input {\n  width: 100px;\n  height: 30px;\n  border: 1px solid #ccc;\n}\n.two {\n  padding-left: 30px;\n  margin-bottom: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}