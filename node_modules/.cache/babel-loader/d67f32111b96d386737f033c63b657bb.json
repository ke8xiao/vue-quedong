{"ast":null,"code":"import { getAllPatients, getPatientByConditions, deletePatients } from '@/api/doctor';\nimport Aside from '@/components/Aside.vue';\nexport default {\n  name: 'Patient',\n  components: {\n    Aside\n  },\n\n  data() {\n    return {\n      // 对话框\n      dialogVisible: false,\n      dialog: {\n        name: '',\n        id: ''\n      },\n      selectData: [],\n      tableData: [{\n        name: '',\n        pingcode: '',\n        sex: 0,\n        age: '',\n        phone: '',\n        birthday: '',\n        createtime: ''\n      }],\n      form: {\n        name: '',\n        pingcode: ''\n      }\n    };\n  },\n\n  created() {\n    this.getMyPatients();\n  },\n\n  methods: {\n    // 获取所有患者信息\n    getMyPatients() {\n      let obj = {\n        doctor_id: '22dc3da0-9510-4c36-ae5e-75ba5f7f2b70'\n      };\n      getAllPatients(obj).then(res => {\n        this.tableData = res.data;\n      });\n    },\n\n    // 所有患者模糊查询\n    queryPatients() {\n      let obj = {\n        doctor_id: '22dc3da0-9510-4c36-ae5e-75ba5f7f2b70',\n        name: this.form.name,\n        pingcode: this.form.pingcode\n      };\n      getPatientByConditions(obj).then(res => {\n        if (res.code == 200) {\n          this.tableData = res.data;\n        }\n      });\n    },\n\n    // 查看患者信息\n    watchPatient(data) {\n      console.log(data);\n    },\n\n    // 删除患者\n    deletePatient(data) {\n      this.dialogVisible = true;\n      this.dialog = data;\n    },\n\n    // 点击确定按钮之后再进行删除\n    saveBtn() {\n      this.dialogVisible = false;\n      let obj = {\n        ids: this.dialog.id\n      };\n      deletePatients(obj).then(res => {\n        if (res.code == 200) {\n          this.getMyPatients();\n          this.$message({\n            type: 'success',\n            message: '删除成功'\n          });\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA2DA;AACA;AACA;EACAA,eADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACA;MACAC,oBAFA;MAGAC;QACAL,QADA;QAEAM;MAFA,CAHA;MAOAC,cAPA;MAQAC,YACA;QACAR,QADA;QAEAS,YAFA;QAGAC,MAHA;QAIAC,OAJA;QAKAC,SALA;QAMAC,YANA;QAOAC;MAPA,CADA,CARA;MAmBAC;QACAf,QADA;QAEAS;MAFA;IAnBA;EAwBA,CA5BA;;EA6BAO;IACA;EACA,CA/BA;;EAiCAC;IACA;IACAC;MACA;QACAC;MADA;MAGAC;QACA;MACA,CAFA;IAGA,CATA;;IAUA;IACAC;MACA;QACAF,iDADA;QAEAnB,oBAFA;QAGAS;MAHA;MAKAa;QACA;UACA;QACA;MACA,CAJA;IAKA,CAtBA;;IAwBA;IACAC;MACAC;IACA,CA3BA;;IA4BA;IACAC;MACA;MACA;IACA,CAhCA;;IAiCA;IACAC;MACA;MACA;QACAC;MADA;MAGAC;QACA;UACA;UACA;YACAC,eADA;YAEAC;UAFA;QAIA;MACA,CARA;IASA;;EAhDA;AAjCA","names":["name","components","Aside","data","dialogVisible","dialog","id","selectData","tableData","pingcode","sex","age","phone","birthday","createtime","form","created","methods","getMyPatients","doctor_id","getAllPatients","queryPatients","getPatientByConditions","watchPatient","console","deletePatient","saveBtn","ids","deletePatients","type","message"],"sourceRoot":"src/views/doctor","sources":["Patient.vue"],"sourcesContent":["<template>\r\n  <div class=\"content-box\">\r\n    <div class=\"content\">\r\n      <div class=\"content-head\">\r\n        <el-form :inline=\"true\" :model=\"form\">\r\n          <span class=\"title\" style=\"padding-left:30px;margin-right:100px\">所有患者</span>\r\n\r\n          <el-form-item label=\"患者姓名\" style=\"margin:0 50px\">\r\n            <el-input v-model=\"form.name\" placeholder=\"请输入查询\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"患者编号\">\r\n            <el-input v-model=\"form.pingcode\" placeholder=\"请输入查询\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button class=\"nextStep\" @click=\"queryPatients\">查询</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      <el-table ref=\"multipleTable\" :data=\"tableData\" tooltip-effect=\"dark\" :header-cell-style=\"{background:'#EBE0D8',color:'#000000'}\">\r\n        <el-table-column label=\"序号\" type=\"index\" width=\"70\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"name\" label=\"姓名\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"pingcode\" label=\"编号\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"sex\" label=\"性别\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"age\" label=\"年龄\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"birthday\" label=\"出生日期\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"phone\" label=\"联系方式\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column prop=\"createtime\" label=\"注册时间\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" style=\"color: #F49B4D;\" size=\"mini\" @click=\"watchPatient(scope.row)\">查看</el-button>\r\n            <el-button type=\"text\" style=\"color: #BCA791;\" size=\"mini\" @click=\"deletePatient(scope.row)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n\r\n      <!-- 确认删除对话框 -->\r\n      <template>\r\n        <el-dialog title=\"删除\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n          <span>确认要删除{{dialog.name}}患者吗</span>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"saveBtn\">确定</el-button>\r\n            <el-button type=\"primary\" @click=\"dialogVisible = false\">取消</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </template>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getAllPatients, getPatientByConditions, deletePatients } from '@/api/doctor'\r\nimport Aside from '@/components/Aside.vue'\r\nexport default {\r\n  name: 'Patient',\r\n  components: { Aside },\r\n  data() {\r\n    return {\r\n      // 对话框\r\n      dialogVisible: false,\r\n      dialog: {\r\n        name: '',\r\n        id: ''\r\n      },\r\n      selectData: [],\r\n      tableData: [\r\n        {\r\n          name: '',\r\n          pingcode: '',\r\n          sex: 0,\r\n          age: '',\r\n          phone: '',\r\n          birthday: '',\r\n          createtime: ''\r\n        }\r\n      ],\r\n      form: {\r\n        name: '',\r\n        pingcode: ''\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getMyPatients()\r\n  },\r\n\r\n  methods: {\r\n    // 获取所有患者信息\r\n    getMyPatients() {\r\n      let obj = {\r\n        doctor_id: '22dc3da0-9510-4c36-ae5e-75ba5f7f2b70'\r\n      }\r\n      getAllPatients(obj).then(res => {\r\n        this.tableData = res.data\r\n      })\r\n    },\r\n    // 所有患者模糊查询\r\n    queryPatients() {\r\n      let obj = {\r\n        doctor_id: '22dc3da0-9510-4c36-ae5e-75ba5f7f2b70',\r\n        name: this.form.name,\r\n        pingcode: this.form.pingcode\r\n      }\r\n      getPatientByConditions(obj).then(res => {\r\n        if (res.code == 200) {\r\n          this.tableData = res.data\r\n        }\r\n      })\r\n    },\r\n\r\n    // 查看患者信息\r\n    watchPatient(data) {\r\n      console.log(data)\r\n    },\r\n    // 删除患者\r\n    deletePatient(data) {\r\n      this.dialogVisible = true\r\n      this.dialog = data\r\n    },\r\n    // 点击确定按钮之后再进行删除\r\n    saveBtn() {\r\n      this.dialogVisible = false\r\n      let obj = {\r\n        ids: this.dialog.id\r\n      }\r\n      deletePatients(obj).then(res => {\r\n        if (res.code == 200) {\r\n          this.getMyPatients()\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功'\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"css\" scoped>\r\n.container {\r\n  padding: 30px;\r\n  background: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n}\r\n.content-head .title {\r\n  font-size: 18px;\r\n  color: orange;\r\n}\r\n\r\n.content-head input {\r\n  width: 100px;\r\n  height: 30px;\r\n  border: 1px solid #ccc;\r\n}\r\n.two {\r\n  padding-left: 30px;\r\n  margin-bottom: 10px;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}