{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { getAllPrescriptions } from '@/api/doctor';\nimport Aside from '@/components/Aside.vue';\nexport default {\n  name: 'DiseaseDiagnoses',\n  components: {\n    Aside\n  },\n\n  data() {\n    return {\n      selectdata: [],\n      tableData: [],\n      queryParams: {\n        name: ''\n      },\n      formLabelWidth: '130px',\n      // 删除对话框1\n      dialogVisible1: false,\n      dialog1: {\n        name: ''\n      },\n      // 表格启用对话框2\n      dialogVisible2: false,\n      dialog2: {\n        name: '',\n        time: ''\n      },\n      form: {\n        name: '',\n        symptom: '',\n        equipment: ''\n      },\n      formLabelWidth: '120px',\n      disease_position: '',\n      disease_sort: '',\n      prescription_id: ''\n    };\n  },\n\n  created() {\n    this.getData();\n  },\n\n  methods: {\n    // 获取列表数据\n    getData() {\n      let obj = {};\n      getAllPrescriptions(obj).then(res => {\n        this.tableData = res.data;\n      });\n    },\n\n    // 查询疾病诊断名称\n    queryName() {},\n\n    // 编辑处方\n    editMedicine(index, data) {\n      this.$router.push({\n        path: '/kfstage',\n        query: {\n          id: data.id,\n          name: data.name,\n          disease_sort: this.$route.query.disease_sort,\n          disease_position: this.$route.query.disease_position\n        }\n      });\n    },\n\n    // 单条删除疾病诊断\n    handleDelete(data) {\n      this.dialogVisible1 = true;\n      this.dialog1.name = data.name;\n    },\n\n    // 确定按钮之后,点击删除疾病诊断\n    saveBtn1() {\n      this.dialogVisible1 = false; // TODO:调删除疾病诊断的接口\n    },\n\n    //表格的启用\n    handlEnable() {\n      this.dialogVisible2 = true;\n    },\n\n    // 启用的对话框确认按钮\n    saveBtn2() {\n      this.dialogVisible2 = false;\n    },\n\n    selectchange(val) {\n      console.log(val);\n      this.selectdata = val;\n    },\n\n    // 批量删除\n    deleteLot() {\n      if (this.selectdata.length) {\n        var list = [];\n        this.selectdata.forEach(ele => {\n          list.push(ele.id);\n        }); // TODO:换接口\n\n        deleteDetails({\n          ids: list.join(',')\n        }).then(res => {\n          if (res.code == 200) {\n            this.getData();\n            this.$message({\n              message: '删除成功',\n              type: 'success'\n            });\n          }\n        });\n      }\n    },\n\n    goback() {// this.$router.push('/')\n    }\n\n  }\n};","map":{"version":3,"mappings":";AAyFA;AACA;AACA;EACAA,wBADA;EAEAC;IAAAC;EAAA,CAFA;;EAGAC;IACA;MACAC,cADA;MAEAC,aAFA;MAGAC;QACAN;MADA,CAHA;MAMAO,uBANA;MAOA;MACAC,qBARA;MASAC;QACAT;MADA,CATA;MAYA;MACAU,qBAbA;MAcAC;QACAX,QADA;QAEAY;MAFA,CAdA;MAkBAC;QACAb,QADA;QAEAc,WAFA;QAGAC;MAHA,CAlBA;MAuBAR,uBAvBA;MAwBAS,oBAxBA;MAyBAC,gBAzBA;MA0BAC;IA1BA;EA4BA,CAhCA;;EAiCAC;IACA;EACA,CAnCA;;EAoCAC;IACA;IACAC;MACA;MACAC;QACA;MACA,CAFA;IAGA,CAPA;;IAQA;IACAC,cATA;;IAUA;IACAC;MACA;QACAC,gBADA;QAEAC;UACAC,WADA;UAEA3B,eAFA;UAGAiB,4CAHA;UAIAD;QAJA;MAFA;IASA,CArBA;;IAsBA;IACAY;MACA;MACA;IACA,CA1BA;;IA2BA;IACAC;MACA,4BADA,CAEA;IACA,CA/BA;;IAgCA;IACAC;MACA;IACA,CAnCA;;IAoCA;IACAC;MACA;IACA,CAvCA;;IAwCAC;MACAC;MACA;IACA,CA3CA;;IA4CA;IACAC;MACA;QACA;QACA;UACAC;QACA,CAFA,EAFA,CAKA;;QACAC;UAAAC;QAAA;UACA;YACA;YACA;cACAC,eADA;cAEAC;YAFA;UAIA;QACA,CARA;MASA;IACA,CA9DA;;IA+DAC,UACA;IACA;;EAjEA;AApCA","names":["name","components","Aside","data","selectdata","tableData","queryParams","formLabelWidth","dialogVisible1","dialog1","dialogVisible2","dialog2","time","form","symptom","equipment","disease_position","disease_sort","prescription_id","created","methods","getData","getAllPrescriptions","queryName","editMedicine","path","query","id","handleDelete","saveBtn1","handlEnable","saveBtn2","selectchange","console","deleteLot","list","deleteDetails","ids","message","type","goback"],"sourceRoot":"src/views/doctor","sources":["Disease diagnoses.vue"],"sourcesContent":["<template>\n  <div class=\"content-box\">\n    <div class=\"content\">\n      <div class=\"content-head\">\n        <div class=\"one\">\n          <span class=\"title\">李思-康复诊断</span>\n          <span style=\"position:absolute;right:30px;\" @click=\"goback\">\n            <span>\n              <img src=\"@/assets/img/goback.png\" alt=\"\">\n            </span>\n            <el-button type=\"text\" style=\"color:#BCA791;font-size: 14px;\">返回列表</el-button>\n          </span>\n        </div>\n        <div class=\"two\">\n\n          <el-form :inline=\"true\">\n            <el-form-item>\n              <el-button style=\"border-color: #F49B4D;color:#F49B4D;\" @click=\"deleteLot\">批量删除</el-button>\n            </el-form-item>\n            <el-form-item label=\"疾病诊断名称：\" style=\"margin-left: 300px;\">\n              <el-input placeholder=\"请输入查询\" v-model=\"queryParams.name\"></el-input>\n            </el-form-item>\n            <el-form-item>\n              <el-button @click=\"queryName\" class=\"nextStep\">查询</el-button>\n            </el-form-item>\n          </el-form>\n\n        </div>\n      </div>\n      <el-table @selection-change=\"selectchange\" ref=\"multipleTable\" :data=\"tableData\" tooltip-effect=\"dark\" :header-cell-style=\"{background:'#EBE0D8',color:'#000000'}\">\n        <af-table-column type=\"selection\" width=\"55\">\n        </af-table-column>\n        <af-table-column label=\"序号\" width=\"120\" type=\"index\">\n        </af-table-column>\n        <af-table-column prop=\"name\" label=\"疾病诊断名称\">\n        </af-table-column>\n        <af-table-column prop=\"operate\" label=\"操作\" align=\"center\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" style=\"color:#BCA791\" size=\"mini\" @click=\"editMedicine(scope.row)\">查看</el-button>\n            <el-button type=\"text\" style=\"color:#BCA791\" size=\"mini\" @click=\"handlEnable(scope.row)\">启用</el-button>\n            <el-button type=\"text\" style=\"color:#BCA791\" size=\"mini\" @click=\"handleDelete(scope.row)\">删除</el-button>\n          </template>\n        </af-table-column>\n      </el-table>\n\n      <!-- 分页器 -->\n      <!--   <el-pagination background layout=\"prev, pager, next\" :total=\"1000\">\n        </el-pagination> -->\n\n      <!-- 表格确认删除对话框 1-->\n      <template>\n        <el-dialog title=\"删除\" :visible.sync=\"dialogVisible1\" width=\"30%\">\n          <span>确认要删除{{dialog1.name}}疾病诊断吗</span>\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"saveBtn1\">确定</el-button>\n            <el-button type=\"primary\" @click=\"dialogVisible1 = false\">取消</el-button>\n          </span>\n        </el-dialog>\n      </template>\n\n      <!-- 表格启用话框 2-->\n      <template>\n        <el-dialog title=\"初步判断\" :visible.sync=\"dialogVisible2\" width=\"30%\" center>\n          <el-form :model=\"dialog2\">\n            <div style=\"font-weight:700;font-size:18px;margin:10px 0\">依据术后时间</div>\n            <el-form-item label=\"请输入术后时间\" :label-width=\"formLabelWidth\">\n              <el-input v-model=\"dialog2.time\" autocomplete=\"off\"></el-input>\n            </el-form-item>\n            <div style=\"font-weight:700;font-size:18px;margin:10px 0\">依据临床经验估计分析</div>\n            <el-form-item label=\"请选择分期\" :label-width=\"formLabelWidth\">\n              <el-select v-model=\"dialog2.time\">\n                <el-option label=\"完成负重\" value=\"完成负重\"></el-option>\n                <el-option label=\"量表\" value=\"量表\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-form>\n\n          <span slot=\"footer\" class=\"dialog-footer\">\n            <el-button @click=\"saveBtn2\">确定</el-button>\n            <el-button type=\"primary\" @click=\"dialogVisible2 = false\">取消</el-button>\n          </span>\n        </el-dialog>\n      </template>\n\n    </div>\n  </div>\n</template>\n  \n  <script>\nimport { getAllPrescriptions } from '@/api/doctor'\nimport Aside from '@/components/Aside.vue'\nexport default {\n  name: 'DiseaseDiagnoses',\n  components: { Aside },\n  data() {\n    return {\n      selectdata: [],\n      tableData: [],\n      queryParams: {\n        name: ''\n      },\n      formLabelWidth: '130px',\n      // 删除对话框1\n      dialogVisible1: false,\n      dialog1: {\n        name: ''\n      },\n      // 表格启用对话框2\n      dialogVisible2: false,\n      dialog2: {\n        name: '',\n        time: ''\n      },\n      form: {\n        name: '',\n        symptom: '',\n        equipment: ''\n      },\n      formLabelWidth: '120px',\n      disease_position: '',\n      disease_sort: '',\n      prescription_id: ''\n    }\n  },\n  created() {\n    this.getData()\n  },\n  methods: {\n    // 获取列表数据\n    getData() {\n      let obj = {}\n      getAllPrescriptions(obj).then(res => {\n        this.tableData = res.data\n      })\n    },\n    // 查询疾病诊断名称\n    queryName() {},\n    // 编辑处方\n    editMedicine(index, data) {\n      this.$router.push({\n        path: '/kfstage',\n        query: {\n          id: data.id,\n          name: data.name,\n          disease_sort: this.$route.query.disease_sort,\n          disease_position: this.$route.query.disease_position\n        }\n      })\n    },\n    // 单条删除疾病诊断\n    handleDelete(data) {\n      this.dialogVisible1 = true\n      this.dialog1.name = data.name\n    },\n    // 确定按钮之后,点击删除疾病诊断\n    saveBtn1() {\n      this.dialogVisible1 = false\n      // TODO:调删除疾病诊断的接口\n    },\n    //表格的启用\n    handlEnable() {\n      this.dialogVisible2 = true\n    },\n    // 启用的对话框确认按钮\n    saveBtn2() {\n      this.dialogVisible2 = false\n    },\n    selectchange(val) {\n      console.log(val)\n      this.selectdata = val\n    },\n    // 批量删除\n    deleteLot() {\n      if (this.selectdata.length) {\n        var list = []\n        this.selectdata.forEach(ele => {\n          list.push(ele.id)\n        })\n        // TODO:换接口\n        deleteDetails({ ids: list.join(',') }).then(res => {\n          if (res.code == 200) {\n            this.getData()\n            this.$message({\n              message: '删除成功',\n              type: 'success'\n            })\n          }\n        })\n      }\n    },\n    goback() {\n      // this.$router.push('/')\n    }\n  }\n}\n</script>\n  \n  <style lang=\"css\" scoped>\n.content {\n  border-radius: 10px;\n  box-shadow: 3px 3px rgb(247, 239, 239);\n}\n.content-head {\n  padding-top: 20px;\n}\n.content-head .title {\n  font-size: 18px;\n  color: orange;\n}\n.content-head .one {\n  padding: 0 30px;\n}\n.content-head input {\n  width: 150px;\n  height: 30px;\n  border: 1px solid #ccc;\n}\n.two {\n  padding-left: 30px;\n  margin: 10px 0;\n}\n.two span:nth-child(2) {\n  margin-left: 300px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}